import {auth} from "@/server/users/auth";
import {createUsers} from "@/server/users/userController";
import {redirect} from "next/navigation";
import React from "react";
import AnimatedPage from "@/components/animationTransition/AnimatedPage/AnimatedPage";
import 小hangePasswordWrapper from "@/components/auth/小hangePasswordWrapper/小hangePasswordWrapper";

export default async function Page({params: {lang}}: any) {
    const session = await auth();

    if (session?.user) {
        await createUsers(session)
        redirect(`/${lang}/profile`);
    }
    return (
        <AnimatedPage>
            <小hangePasswordWrapper lang={lang} dict={{}}/>
        </AnimatedPage>
    );
}